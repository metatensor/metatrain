coverage:
  status:
    project:
      default: false

      # core package
      coverage:
        target: 88%
        paths:
          - "src/metatrain/utils/.*"
          - "src/metatrain/cli/.*"
        flags:
          - coverage_tests

      # stable architectures
      coverage_gap:
        paths:
          - "src/metatrain/gap/.*"
        flags:
          - coverage_gap
      coverage_pet:
        paths:
          - "src/metatrain/pet/.*"
        flags:
          - coverage_pet
      coverage_soap_bpnn:
        paths:
          - "src/metatrain/soap_bpnn/.*"
        flags:
          - coverage_soap_bpnn
      coverage_llpr:
        paths:
          - "src/metatrain/llpr/.*"
        flags:
          - coverage_llpr

      # deprecated architectures
      coverage_nanopet:
        paths:
          - "src/metatrain/deprecated/nanopet/.*"
        flags:
          - coverage_nanopet

      # experimental architectures
      coverage_flashmd:
        paths:
          - "src/metatrain/experimental/flashmd/.*"
        flags:
          - coverage_flashmd

    patch:
      default:
        informational: true

  ignore:
    # no need to report coverage of the test code themself
    - "src/metatrain/utils/testing/.*"
    - "src/metatrain/**/tests/.*"
    # we don't currently run distributed tests on CI
    - "src/metatrain/utils/distributed/.*"

comment: false
